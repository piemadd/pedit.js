<!DOCTYPE html>

<html>

<head>
	<title>demo</title>
	<meta charset="utf-8">
	<style>
		canvas {
			outline: solid 2px black;
			display: block;
		}
		</style>
	</head>

<body>

	<canvas tabindex=0 id="editor" width=480 height=480></canvas>
	<button id="save">save</button>
	<button id="load">load</button>
	<pre>
p: pen
e: erasor
b: bucket
r: rect
c: circle
l: line
s: select
m: move
1-9: color
-: scale down
=: scale up
0: scale fit
<-: prev frame
->: next frame
+: new frame
_: del frame
m-z: undo
ms-z: redo
m-s: save
m-l: load
	</pre>

	<script type="module">

		import pedit from "/pedit.js";

		const canvas = document.querySelector("#editor");

		canvas.focus();

		const doc = pedit({
			canvas: canvas,
			width: 64,
			height: 64,
		});

		const saveBtn = document.querySelector("#save");
		const loadBtn = document.querySelector("#load");

		saveBtn.onclick = () => {
			localStorage["pedit"] = JSON.stringify(doc.save());
		};

		loadBtn.onclick = () => {
			doc.load(JSON.parse(localStorage["pedit"]));
		};

	</script>

	</body>

</html>

